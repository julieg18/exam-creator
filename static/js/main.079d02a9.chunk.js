(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,n){e.exports=n(166)},122:function(e,t,n){},123:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(25),i=n.n(s),o=n(22),u=n(23),c=n(48),l=n(109),d=n(105),m="LOGIN_EXISTING_USER",p="AUTH_LOGIN_EXISTING_USER_SUCCESS",E="AUTH_LOGIN_EXISTING_USER_FAIL",h="AUTH_SIGNUP",f="AUTH_SIGNUP_START",x="AUTH_SIGNUP_SUCCESS",g="AUTH_SIGNUP_FAIL",v="AUTH_LOGIN",b="AUTH_LOGIN_START",O="AUTH_LOGIN_SUCCESS",S="AUTH_LOGIN_FAIL",y="AUTH_LOGOUT",w="AUTH_LOGOUT_START",C="AUTH_LOGOUT_SUCCESS",k="AUTH_LOGOUT_FAIL",T="AUTH_CLEAR_ERROR";function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(n,!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={isUserLoggedIn:!1,userId:"",loading:!1,error:"",user:{}};var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return function(e,t){return N({},e,{isUserLoggedIn:!0,userId:t.userId})}(e,t);case E:return function(e){return e}(e);case f:return function(e){return N({},e,{loading:!0})}(e);case x:return function(e,t){return N({},e,{isUserLoggedIn:!0,userId:t.userId,loading:!1})}(e,t);case g:return function(e,t){return N({},e,{loading:!1,error:t.error})}(e,t);case b:return function(e){return N({},e,{loading:!0})}(e);case O:return function(e,t){return N({},e,{isUserLoggedIn:!0,userId:t.userId,loading:!1})}(e,t);case S:return function(e,t){return N({},e,{loading:!1,error:t.error})}(e,t);case w:return function(e){return N({},e,{loading:!0})}(e);case C:return function(e){return N({},e,{loading:!1,isUserLoggedIn:!1,userId:"",user:{}})}(e);case k:return function(e,t){return N({},e,{loading:!1,error:t.error})}(e,t);case T:return function(e){return N({},e,{error:""})}(e);default:return e}},I=n(11),_=n.n(I),L="CREATE_EXAM_CHANGE_PART",Q="CREATE_EXAM_RESET",B="CREATE_EXAM_TITLE",P="CREATE_EXAM_QUESTIONS",U="CREATE_EXAM_STUDENTS",F="CREATE_EXAM",M="CREATE_EXAM_START",D="CREATE_EXAM_FAIL",z="CREATE_EXAM_SUCCESS",R="GET_EXAM",W="GET_EXAM_START",G="GET_EXAM_SUCCESS",Y="GET_EXAM_FAIL",X="GET_USER_EXAMS",H="GET_USER_EXAMS_START",J="GET_USER_EXAMS_SUCCESS",K="GET_USER_EXAMS_FAIL",$="DELETE_EXAM",V="DELETE_EXAM_START",Z="DELETE_EXAM_SUCCESS",ee="DELETE_EXAM_FAIL",te="EDIT_EXAM_SELECT_EXAM",ne="EDIT_EXAM_RESET",ae="EDIT_EXAM_CHANGE_PART",re="EDIT_EXAM_TITLE",se="EDIT_EXAM_QUESTIONS",ie="EDIT_EXAM_STUDENTS",oe="EDIT_EXAM",ue="EDIT_EXAM_START",ce="EDIT_EXAM_FAIL",le="EDIT_EXAM_SUCCESS",de={examBeingCreated:{title:"",questions:[],students:[]},examToBeEdited:{},examPartsBeingEdited:{title:"",questions:[],students:[]},currentExamBeingCreatedPart:"start",currentExamBeingEditedPart:"start",createExamLoading:!1,getExamLoading:!1,getUserExamsLoading:!1,editExamLoading:!1,error:"",retrievedExam:{},userExams:[]};var me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0,n=_()(e);switch(t.type){case L:return function(e,t){return e.currentExamBeingCreatedPart=t.examPart,e}(n,t);case Q:return function(e){return e.examBeingCreated={title:"",questions:[],students:[]},e.currentExamBeingCreatedPart="start",e}(n);case B:return function(e,t){return e.examBeingCreated.title=t.title,e}(n,t);case P:return function(e,t){return e.examBeingCreated.questions=t.questions,e}(n,t);case U:return function(e,t){return e.examBeingCreated.students=t.students,e}(n,t);case M:return function(e){return e.createExamLoading=!0,e}(n);case z:return function(e){return e.examBeingCreated={title:"",questions:[],students:[]},e.currentExamBeingCreatedPart="start",e.createExamLoading=!1,e}(n);case D:return function(e,t){return e.createExamLoading=!1,e.error=t.error,e}(n,t);case W:return function(e){return e.getExamLoading=!0,e}(n);case Y:return function(e){return e.getExamLoading=!1,e}(n);case G:return function(e,t){return e.getExamLoading=!1,e.retrievedExam=t.exam,e}(n,t);case H:return function(e){return e.getUserExamsLoading=!0,e}(n);case K:return function(e,t){return e.getUserExamsLoading=!1,e.error=t.error,e}(n,t);case J:return function(e,t){return e.getUserExamsLoading=!1,e.userExams=t.exams,e}(n,t);case V:return function(e){return e.deleteExamLoading=!0,e}(n);case ee:return function(e,t){return e.deleteExamLoading=!1,e.error=t.error,e}(n,t);case Z:return function(e,t){return e.deleteExamLoading=!1,e.userExams=e.userExams.filter((function(e){return e._id!==t.deletedExamId})),e}(n,t);case te:return function(e,t){return e.examToBeEdited=t.selectedExam,e}(n,t);case ne:return function(e){return e.examToBeEdited={},e.examPartsBeingEdited={title:"",questions:[],students:[]},e.currentExamBeingEditedPart="start",e}(n);case ae:return function(e,t){return e.currentExamBeingEditedPart=t.examPart,e}(n,t);case re:return function(e,t){return e.examPartsBeingEdited.title=t.title,e}(n,t);case se:return function(e,t){return e.examPartsBeingEdited.questions=t.questions,e}(n,t);case ie:return function(e,t){return e.examPartsBeingEdited.students=t.students,e}(n,t);case ue:return function(e){return e.editExamLoading=!0,e}(n);case le:return function(e){return e.examToBeEdited={},e.examPartsBeingEdited={title:"",questions:[],students:[]},e.currentExamBeingEditedPart="start",e.editExamLoading=!1,e}(n);case ce:return function(e,t){return e.editExamLoading=!1,e.error=t.error,e}(n,t);default:return e}},pe=n(10),Ee=n.n(pe),he=n(12);function fe(){return{type:T}}function xe(){return{type:X}}function ge(e){return{type:te,selectedExam:e}}function ve(e){return{type:ae,examPart:e}}var be=Ee.a.mark(Ce),Oe=Ee.a.mark(ke),Se=Ee.a.mark(Te),ye=Ee.a.mark(qe),we="https://tranquil-retreat-28866.herokuapp.com";function Ce(){var e,t;return Ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(we,"/api/v1/users"));case 3:return e=n.sent,n.next=6,e.json();case 6:if(t=n.sent,e.ok){n.next=9;break}throw Error(t.error);case 9:return n.next=11,Object(he.a)((a=t.user._id,{type:p,userId:a}));case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(he.a)({type:E});case 17:case"end":return n.stop()}var a}),be,null,[[0,13]])}function ke(e){var t,n,a,r,s,i,o;return Ee.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(he.a)({type:f});case 2:return t=e.username,n=e.email,a=e.password,r={username:t,email:n,password:a},u.prev=4,u.next=7,fetch("".concat(we,"/api/v1/users/signup"),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 7:return s=u.sent,u.next=10,s.json();case 10:if(i=u.sent,s.ok){u.next=13;break}throw Error(i.error);case 13:return o=i.newUser._id,u.next=16,Object(he.a)({type:x,userId:o});case 16:u.next=22;break;case 18:return u.prev=18,u.t0=u.catch(4),u.next=22,Object(he.a)((c=u.t0.message,{type:g,error:c}));case 22:case"end":return u.stop()}var c}),Oe,null,[[4,18]])}function Te(e){var t,n,a,r,s,i;return Ee.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(he.a)({type:b});case 2:return t=e.email,n=e.password,a={email:t,password:n},o.prev=4,o.next=7,fetch("".concat(we,"/api/v1/users/login"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 7:return r=o.sent,o.next=10,r.json();case 10:if(s=o.sent,r.ok){o.next=13;break}throw Error(s.error);case 13:return i=s.user._id,o.next=16,Object(he.a)({type:O,userId:i});case 16:o.next=22;break;case 18:return o.prev=18,o.t0=o.catch(4),o.next=22,Object(he.a)((u=o.t0.message,{type:S,error:u}));case 22:case"end":return o.stop()}var u}),Se,null,[[4,18]])}function qe(){var e,t;return Ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(he.a)({type:w});case 2:return n.prev=2,n.next=5,fetch("".concat(we,"/api/v1/users/logout"),{method:"POST",headers:{"Content-Type":"application/json"}});case 5:return e=n.sent,n.next=8,e.json();case 8:if(t=n.sent,e.ok){n.next=11;break}throw Error(t.error);case 11:return n.next=13,Object(he.a)({type:C});case 13:n.next=19;break;case 15:return n.prev=15,n.t0=n.catch(2),n.next=19,Object(he.a)((a=n.t0.message,{type:k,error:a}));case 19:case"end":return n.stop()}var a}),ye,null,[[2,15]])}function Ne(e,t){var n=e.map((function(e){return e.id})),a=t.map((function(e){return e.id})),r=n.filter((function(e){return!a.includes(e)})),s=a.filter((function(e){return!n.includes(e)})),i=e.filter((function(e){return!r.includes(e.id)})).filter((function(e){var n=t.find((function(t){return t.id===e.id}));return function(e,t){return[e.name!==t.name,e.type!==t.type,e.answer.some((function(e,n){return e!==t.answer[n]}))||t.answer.some((function(t,n){return t!==e.answer[n]})),e.options.some((function(e,n){return e.optionId!==t.options[n].optionId}))||t.options.some((function(t,n){return t.optionId!==e.options[n].optionId})),e.options.some((function(e,n){return e.name!==t.options[n].name}))||t.options.some((function(t,n){return t.name!==e.options[n].name}))].some((function(e){return e}))}(e,n)})).map((function(e){return e.id}));return{deletedQuestions:r,addedQuestions:s,editedQuestions:i}}function je(e,t){var n=e.map((function(e){return e._id})),a=t.map((function(e){return e.id})),r=n.filter((function(e){return!a.includes(e)})),s=a.filter((function(e){return!n.includes(e)})),i=e.filter((function(e){return!r.includes(e._id)})).filter((function(e){return t.find((function(t){return t.id===e.id})).name!==e.name})).map((function(e){return e.id}));return{deletedStudents:r,addedStudents:s,editedStudents:i}}var Ae=Ee.a.mark(Be),Ie=Ee.a.mark(Pe),_e=Ee.a.mark(Ue),Le=Ee.a.mark(Fe),Qe=Ee.a.mark(Me);function Be(e){var t,n,a,r,s;return Ee.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(he.a)({type:M});case 3:return t=_()(e.exam),i.next=6,fetch("/api/v1/users");case 6:return n=i.sent,i.next=9,n.json();case 9:if(a=i.sent,n.ok){i.next=12;break}throw Error(a.error);case 12:return t.creator=a.user._id,i.next=15,fetch("/api/v1/exams",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 15:return r=i.sent,i.next=18,r.json();case 18:if(s=i.sent,r.ok){i.next=21;break}throw Error(s.error);case 21:return i.next=23,Object(he.a)({type:z});case 23:i.next=29;break;case 25:return i.prev=25,i.t0=i.catch(0),i.next=29,Object(he.a)({type:D,error:"Something went wrong. :("});case 29:case"end":return i.stop()}}),Ae,null,[[0,25]])}function Pe(e){var t,n;return Ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(he.a)({type:W});case 3:return a.next=5,fetch("/api/v1/exams/".concat(e.examId));case 5:return t=a.sent,a.next=8,t.json();case 8:if(n=a.sent,t.ok){a.next=11;break}throw Error(n.error);case 11:return a.next=13,Object(he.a)((r=n.exam,{type:G,exam:r}));case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(0),a.next=19,Object(he.a)({type:Y,error:"Something went wrong. :("});case 19:case"end":return a.stop()}var r}),Ie,null,[[0,15]])}function Ue(){var e,t;return Ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(he.a)({type:H});case 3:return n.next=5,fetch("/api/v1/users/exams");case 5:return e=n.sent,n.next=8,e.json();case 8:if(t=n.sent,e.ok){n.next=11;break}throw Error(t.error);case 11:return n.next=13,Object(he.a)((a=t.exams,{type:J,exams:a}));case 13:n.next=19;break;case 15:return n.prev=15,n.t0=n.catch(0),n.next=19,Object(he.a)({type:K,error:"Something went wrong. :("});case 19:case"end":return n.stop()}var a}),_e,null,[[0,15]])}function Fe(e){var t,n;return Ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(he.a)({type:V});case 3:return a.next=5,fetch("/api/v1/exams/".concat(e.examId),{method:"DELETE"});case 5:return t=a.sent,a.next=8,t.json();case 8:if(n=a.sent,t.ok){a.next=11;break}throw Error(n.error);case 11:return a.next=13,Object(he.a)((r=e.examId,{type:Z,deletedExamId:r}));case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(0),a.next=19,Object(he.a)({type:ee,error:"Something went wrong. :("});case 19:case"end":return a.stop()}var r}),Le,null,[[0,15]])}function Me(e){var t,n,a,r;return Ee.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(he.a)({type:ue});case 3:if(t=e.exam,!(n=e.examPartsBeingEdited).title){s.next=13;break}return s.next=7,fetch("/api/v1/exams/".concat(t._id),{method:"PUT",body:JSON.stringify({title:n.title}),headers:{"Content-Type":"application/json"}});case 7:return a=s.sent,s.next=10,a.json();case 10:if(r=s.sent,a.ok){s.next=13;break}throw Error(r.error);case 13:if(0===n.questions.length){s.next=15;break}return s.delegateYield(Ee.a.mark((function e(){var a,r,s,i,o,u,c,l,d,m,p;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ne(t.questions,n.questions),r=a.deletedQuestions,s=a.addedQuestions,i=a.editedQuestions,o=0;case 2:if(!(o<r.length)){e.next=14;break}return e.next=5,fetch("api/v1/exams/questions/".concat(t._id),{method:"DELETE",body:JSON.stringify({questionId:r[o]}),headers:{"Content-Type":"application/json"}});case 5:return u=e.sent,e.next=8,u.json();case 8:if(c=e.sent,u.ok){e.next=11;break}throw Error(c.error);case 11:o++,e.next=2;break;case 14:l=Ee.a.mark((function e(a){var r,i,o;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.questions.find((function(e){return e.id===s[a]}))).type="trueOrFalse"===r.type?"true_false":r.type,e.next=4,fetch("api/v1/exams/questions/".concat(t._id),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 4:return i=e.sent,e.next=7,i.json();case 7:if(o=e.sent,i.ok){e.next=10;break}throw Error(o.error);case 10:case"end":return e.stop()}}),e)})),d=0;case 16:if(!(d<s.length)){e.next=21;break}return e.delegateYield(l(d),"t0",18);case 18:d++,e.next=16;break;case 21:m=Ee.a.mark((function e(a){var r,s,o;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.questions.find((function(e){return e.id===i[a]}))).questionId=r.id,r.type="trueOrFalse"===r.type?"true_false":r.type,e.next=5,fetch("api/v1/exams/questions/".concat(t._id),{method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 5:return s=e.sent,e.next=8,s.json();case 8:if(o=e.sent,s.ok){e.next=11;break}throw Error(o.error);case 11:case"end":return e.stop()}}),e)})),p=0;case 23:if(!(p<i.length)){e.next=28;break}return e.delegateYield(m(p),"t1",25);case 25:p++,e.next=23;break;case 28:case"end":return e.stop()}}),e)}))(),"t0",15);case 15:if(0===n.students.length){s.next=17;break}return s.delegateYield(Ee.a.mark((function e(){var a,r,s,i,o,u,c,l,d,m,p;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=je(t.students,n.students),r=a.deletedStudents,s=a.addedStudents,i=a.editedStudents,o=0;case 2:if(!(o<r.length)){e.next=14;break}return e.next=5,fetch("api/v1/exams/students/".concat(t._id),{method:"DELETE",body:JSON.stringify({studentId:r[o]}),headers:{"Content-Type":"application/json"}});case 5:return u=e.sent,e.next=8,u.json();case 8:if(c=e.sent,u.ok){e.next=11;break}throw Error(c.error);case 11:o++,e.next=2;break;case 14:l=Ee.a.mark((function e(a){var r,i,o;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.students.find((function(e){return e.id===s[a]})),e.next=3,fetch("api/v1/exams/students/".concat(t._id),{method:"POST",body:JSON.stringify({name:r.name}),headers:{"Content-Type":"application/json"}});case 3:return i=e.sent,e.next=6,i.json();case 6:if(o=e.sent,i.ok){e.next=9;break}throw Error(o.error);case 9:case"end":return e.stop()}}),e)})),d=0;case 16:if(!(d<s.length)){e.next=21;break}return e.delegateYield(l(d),"t0",18);case 18:d++,e.next=16;break;case 21:m=Ee.a.mark((function e(a){var r,s,o;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.students.find((function(e){return e.id===i[a]})),e.next=3,fetch("api/v1/exams/students/".concat(t._id),{method:"PUT",body:JSON.stringify({studentId:r.id,name:r.name}),headers:{"Content-Type":"application/json"}});case 3:return s=e.sent,e.next=6,s.json();case 6:if(o=e.sent,s.ok){e.next=9;break}throw Error(o.error);case 9:case"end":return e.stop()}}),e)})),p=0;case 23:if(!(p<i.length)){e.next=28;break}return e.delegateYield(m(p),"t1",25);case 25:p++,e.next=23;break;case 28:case"end":return e.stop()}}),e)}))(),"t1",17);case 17:return s.next=19,Object(he.a)({type:le});case 19:s.next=25;break;case 21:return s.prev=21,s.t2=s.catch(0),s.next=25,Object(he.a)({type:ce,error:"Something went wrong. :("});case 25:case"end":return s.stop()}}),Qe,null,[[0,21]])}var De=Ee.a.mark(Re),ze=Ee.a.mark(We);function Re(){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.b)(m,Ce);case 2:return e.next=4,Object(he.b)(h,ke);case 4:return e.next=6,Object(he.b)(v,Te);case 6:return e.next=8,Object(he.b)(y,qe);case 8:case"end":return e.stop()}}),De)}function We(){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.b)(F,Be);case 2:return e.next=4,Object(he.b)(R,Pe);case 4:return e.next=6,Object(he.b)(X,Ue);case 6:return e.next=8,Object(he.b)($,Fe);case 8:return e.next=10,Object(he.b)(oe,Me);case 10:case"end":return e.stop()}}),ze)}var Ge=n(14),Ye=n(15),Xe=n(17),He=n(16),Je=n(18),Ke=n(52),$e=n(100),Ve=n(45),Ze=n(47),et=n(29),tt=n(9),nt=n(51),at=(n(122),function(e){return r.a.createElement(tt.a,{onClick:"button"===e.type?e.onClickFunc:function(){},className:"LoadingButton",variant:e.variant,type:e.type,size:e.size},r.a.createElement("div",{className:"spinner ".concat(e.loading?"":"invisible")},r.a.createElement(nt.a,{as:"span",animation:"border"}),r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement("div",{className:e.loading?"invisible":""},e.children))}),rt=(n(123),function(e){function t(){var e,n;Object(Ge.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(Xe.a)(this,(e=Object(He.a)(t)).call.apply(e,[this].concat(r)))).state={isWindowMobileSize:!1},n.updateIsWindowMobileSize=function(){window.innerWidth<=500!==n.state.isWindowMobileSize&&n.setState({isWindowMobileSize:window.innerWidth<=500})},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateIsWindowMobileSize.bind(this)),this.updateIsWindowMobileSize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateIsWindowMobileSize)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isUserLoggedIn,a=t.location.pathname,s=r.a.createElement(Ve.a,{className:"ml-auto"},r.a.createElement(Ve.a.Link,{as:o.b,to:"/create-exam",active:"/create-exam"===a},"Create A Exam"),r.a.createElement(Ve.a.Link,{as:o.b,to:"/edit-exam",active:"/edit-exam"===a},"Edit A Exam"),r.a.createElement(Ve.a.Link,{as:o.b,to:"/exams",active:"/exams"===a},"Exams"),r.a.createElement(at,{variant:"outline-info",type:"button",onClickFunc:function(){return e.props.onLogout()},loading:this.props.loading,size:"md",classes:""},"Logout")),i=r.a.createElement(Ve.a,{className:"ml-auto"},r.a.createElement(Ve.a.Link,{as:o.b,to:"/create-exam",active:"/create-exam"===a},"Create A Exam"),r.a.createElement(Ve.a.Link,{as:o.b,to:"/auth",active:"/auth"===a},"Login/Signup"));return this.state.isWindowMobileSize&&(s=r.a.createElement(Ze.a,{alignRight:!0,className:"ml-auto",id:"dropdown-button",title:"Menu",variant:"info"},r.a.createElement(et.a.Item,{as:o.b,to:"/create-exam",active:"/create-exam"===a},"Create A Exam"),r.a.createElement(et.a.Item,{as:o.b,to:"/edit-exam",active:"/edit-exam"===a},"Edit A Exam"),r.a.createElement(et.a.Item,{as:o.b,to:"/exams",active:"/exams"===a},"Exams"),r.a.createElement(et.a.Divider,null),r.a.createElement(et.a.Item,{onClick:function(){return e.props.onLogout}},"Logout")),i=r.a.createElement(Ze.a,{alignRight:!0,className:"ml-auto",id:"dropdown-button",title:"Menu",variant:"info"},r.a.createElement(et.a.Item,{as:o.b,to:"/create-exam",active:"/create-exam"===a},"Create A Exam"),r.a.createElement(et.a.Item,{as:o.b,to:"/auth",active:"/auth"===a},"Login/Signup"))),r.a.createElement($e.a,{variant:"light",className:"NavigationBar"},r.a.createElement($e.a.Brand,{className:"NavBarBrand"},"Exam Creator"),n?s:i)}}]),t}(r.a.Component));var st=Object(u.b)((function(e){var t=e.auth;return{isUserLoggedIn:t.isUserLoggedIn,loading:t.loading}}),(function(e){return{onLogout:function(){return e({type:y})}}}))(Object(Ke.g)(rt)),it=n(7),ot=n(28),ut=(n(126),function(e){function t(){var e,n;Object(Ge.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(Xe.a)(this,(e=Object(He.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t={username:e.target[0].value,email:e.target[1].value,password:e.target[2].value};n.props.onSignup(t)},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"componentWillUnmount",value:function(){this.props.onClearError()}},{key:"render",value:function(){return r.a.createElement("div",{className:"Signup"},this.props.error?r.a.createElement(ot.a,{variant:"info"},r.a.createElement("span",null,"\u26a0 "),this.props.error):"",r.a.createElement("h1",null,"Signup"),r.a.createElement(o.b,{to:"/login"},"Already have an account?"),r.a.createElement(it.a,{onSubmit:this.handleSubmit},r.a.createElement(it.a.Group,{controlId:"username"},r.a.createElement(it.a.Label,null,"Username:"),r.a.createElement(it.a.Control,{type:"username",placeholder:"Username"})),r.a.createElement(it.a.Group,{controlId:"email"},r.a.createElement(it.a.Label,null,"Email:"),r.a.createElement(it.a.Control,{type:"email",placeholder:"Email"})),r.a.createElement(it.a.Group,{controlId:"password"},r.a.createElement(it.a.Label,null,"Password:"),r.a.createElement(it.a.Control,{type:"password",placeholder:"Password"})),r.a.createElement(at,{variant:"info",type:"submit",loading:this.props.loading,size:"md",classes:""},"Signup")))}}]),t}(r.a.Component));var ct=Object(u.b)((function(e){var t=e.auth;return{isUserLoggedIn:t.isUserLoggedIn,userId:t.userId,loading:t.loading,error:t.error}}),(function(e){return{onSignup:function(t){var n=t.username,a=t.email,r=t.password;return e(function(e,t,n){return{type:h,username:e,email:t,password:n}}(n,a,r))},onClearError:function(){return e(fe())}}}))(ut),lt=(n(127),function(e){function t(){var e,n;Object(Ge.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(Xe.a)(this,(e=Object(He.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t={email:e.target[0].value,password:e.target[1].value};n.props.onLogin(t)},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"componentWillUnmount",value:function(){this.props.onClearError()}},{key:"render",value:function(){return r.a.createElement("div",{className:"Login"},this.props.error?r.a.createElement(ot.a,{variant:"info"},r.a.createElement("span",null,"\u26a0 "),this.props.error):"",r.a.createElement("h1",null,"Login"),r.a.createElement(o.b,{to:"/auth"},"Haven't made an account?"),r.a.createElement(it.a,{onSubmit:this.handleSubmit},r.a.createElement(it.a.Group,{controlId:"email"},r.a.createElement(it.a.Label,null,"Email:"),r.a.createElement(it.a.Control,{type:"email",placeholder:"Email"})),r.a.createElement(it.a.Group,{controlId:"password"},r.a.createElement(it.a.Label,null,"Password:"),r.a.createElement(it.a.Control,{type:"password",placeholder:"Password"})),r.a.createElement(at,{variant:"info",type:"submit",loading:this.props.loading,size:"md",classes:""},"Login")))}}]),t}(r.a.Component));var dt=Object(u.b)((function(e){var t=e.auth;return{isUserLoggedIn:t.isUserLoggedIn,error:t.error,loading:t.loading}}),(function(e){return{onLogin:function(t){var n=t.email,a=t.password;return e(function(e,t){return{type:v,email:e,password:t}}(n,a))},onClearError:function(){return e(fe())}}}))(lt),mt=(n(128),function(e){function t(){return Object(Ge.a)(this,t),Object(Xe.a)(this,Object(He.a)(t).apply(this,arguments))}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"CreateAExamStart"},r.a.createElement("div",{className:"".concat(this.props.isUserLoggedIn?"title":"titleAndIntroduction")},r.a.createElement("h1",null,"Create A Exam"),this.props.isUserLoggedIn?"":r.a.createElement("p",null,"You cannot save your exam until you login or create a account.")),r.a.createElement(tt.a,{size:"lg",variant:"info",onClick:this.props.nextExamPart},"Start"))}}]),t}(r.a.Component)),pt=(n(129),function(e){function t(){var e,n;Object(Ge.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(Xe.a)(this,(e=Object(He.a)(t)).call.apply(e,[this].concat(r)))).state={title:n.props.examTitle,hasTitleChanged:!1},n.handleTitleChange=function(e){n.setState({title:e.target.value,hasTitleChanged:!0}),n.props.changeNextBtn(/^\s*$/.test(e.target.value))},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"componentWillUnmount",value:function(){this.props.completeExamTitle(this.state.title,this.state.hasTitleChanged)}},{key:"render",value:function(){return r.a.createElement("div",{className:"WorkOnExamTitle"},r.a.createElement("h1",null,this.props.heading),r.a.createElement(it.a.Group,{controlId:"title"},r.a.createElement(it.a.Control,{value:this.state.title,onChange:this.handleTitleChange,type:"text",placeholder:"Title"})))}}]),t}(r.a.Component)),Et=n(65),ht=n(92),ft=n(27),xt=n.n(ft),gt=(n(138),function(e){function t(){var e,n;Object(Ge.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(Xe.a)(this,(e=Object(He.a)(t)).call.apply(e,[this].concat(r)))).state={studentName:"",error:""},n.handleStudentNameChange=function(e){n.setState({studentName:e.target.value})},n.handleCreatingStudent=function(){var e={name:n.state.studentName,id:xt.a.generate()};/^\s*$/.test(e.name)?n.setState({error:"Your student must have a name."}):(n.props.onCreateStudent(e),n.setState({studentName:"",error:""}))},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"CreateStudent"},r.a.createElement("div",{className:"scrollOnOverflow"},r.a.createElement("h2",null,"Create Student"),this.state.error?r.a.createElement(ot.a,{variant:"info"},r.a.createElement("span",null,"\u26a0 "),this.state.error):"",r.a.createElement(it.a.Group,null,r.a.createElement(it.a.Label,null,"Name:"),r.a.createElement(it.a.Control,{onChange:this.handleStudentNameChange,placeholder:"Name",value:this.state.studentName,type:"text"})),r.a.createElement(tt.a,{onClick:this.handleCreatingStudent,variant:"info"},"Create Student")))}}]),t}(r.a.Component)),vt=(n(139),function(e){function t(){var e,n;Object(Ge.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(Xe.a)(this,(e=Object(He.a)(t)).call.apply(e,[this].concat(r)))).state={studentName:n.props.student.name,error:""},n.handleStudentNameChange=function(e){n.setState({studentName:e.target.value})},n.handleEditingStudent=function(){var e={name:n.state.studentName,id:n.props.student.id};/^\s*$/.test(e.name)?n.setState({error:"Your student must have a name."}):n.props.editStudent(e)},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"EditStudent"},r.a.createElement("div",{className:"scrollOnOverflow"},r.a.createElement("h2",null,"Edit Student"),this.state.error?r.a.createElement(ot.a,{variant:"info"},r.a.createElement("span",null,"\u26a0 "),this.state.error):"",r.a.createElement(it.a.Group,null,r.a.createElement(it.a.Label,null,"Name:"),r.a.createElement(it.a.Control,{onChange:this.handleStudentNameChange,placeholder:"Name",value:this.state.studentName,type:"text"})),r.a.createElement(tt.a,{onClick:this.handleEditingStudent,variant:"info"},"Edit Student")))}}]),t}(r.a.Component)),bt=n(49),Ot=n(55),St=(n(140),function(e){return r.a.createElement("div",{className:"StudentsSoFar"},r.a.createElement("div",{className:"scrollOnOverflow"},r.a.createElement("h2",null,"Students So Far"),r.a.createElement(bt.a,null,e.students.map((function(t,n){return r.a.createElement(Ot.a,{key:t.id},r.a.createElement(bt.a.Toggle,{as:Ot.a.Header,eventKey:n},n+1,". ",t.name),r.a.createElement(bt.a.Collapse,{eventKey:n},r.a.createElement(Ot.a.Body,null,r.a.createElement(tt.a,{onClick:function(){window.innerWidth<=500&&e.changeTab("workOnStudent"),e.editStudentStart(t)},variant:"info",block:!0},"Edit Student"),r.a.createElement(tt.a,{onClick:function(){return e.deleteStudent(t.id)},variant:"danger",block:!0},"Delete Student"))))})))))}),yt=(n(141),function(e){function t(){var e,n;Object(Ge.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(Xe.a)(this,(e=Object(He.a)(t)).call.apply(e,[this].concat(r)))).state={students:n.props.examStudents,studentToBeEdited:{},isWindowMobileSize:!1,currentActiveTab:"workOnStudent",hasStudentsChanged:!1},n.updateIsWindowMobileSize=function(){window.innerWidth<=500!==n.state.isWindowMobileSize&&n.setState({isWindowMobileSize:window.innerWidth<=500})},n.changeTab=function(e){n.setState({currentActiveTab:e})},n.editStudent=function(e){var t=_()(n.state.students),a=_()(e),r=t.map((function(e){return e.id===a.id?a:e}));n.setState({students:r,hasStudentsChanged:!0,studentToBeEdited:{}})},n.addStudent=function(e){var t=_()(n.state.students);t.push(e),n.setState({students:t,hasStudentsChanged:!0})},n.deleteStudent=function(e){var t=_()(n.state.students).filter((function(t){return t.id!==e}));n.state.studentToBeEdited.id===e?n.setState({questions:t,studentToBeEdited:{},hasStudentsChanged:!0}):n.setState({students:t,hasStudentsChanged:!0})},n.startEditingStudent=function(e){n.setState({studentToBeEdited:e})},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateIsWindowMobileSize.bind(this)),this.updateIsWindowMobileSize()}},{key:"componentWillUnmount",value:function(){this.props.completeExamStudents(this.state.students,this.state.hasStudentsChanged),window.removeEventListener("resize",this.updateIsWindowMobileSize)}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"WorkOnExamStudentsMain"},r.a.createElement(St,{editStudentStart:this.startEditingStudent,students:this.state.students,deleteStudent:this.deleteStudent}),this.state.studentToBeEdited.id?r.a.createElement(vt,{student:this.state.studentToBeEdited,editStudent:this.editStudent,key:this.state.studentToBeEdited.id}):r.a.createElement(gt,{onCreateStudent:this.addStudent}));return window.innerWidth<=500&&(e=r.a.createElement("div",{className:"MobileWorkOnExamStudentsMain"},r.a.createElement(ht.a,{activeKey:this.state.currentActiveTab,onSelect:this.changeTab},r.a.createElement(Et.a,{eventKey:"workOnStudent",title:this.state.studentToBeEdited.id?"Edit Student":"Create Student"},this.state.studentToBeEdited.id?r.a.createElement(vt,{student:this.state.studentToBeEdited,editStudent:this.editStudent,key:this.state.studentToBeEdited.id}):r.a.createElement(gt,{onCreateStudent:this.addStudent})),r.a.createElement(Et.a,{eventKey:"students",title:"Students So Far"},r.a.createElement(St,{editStudentStart:this.startEditingStudent,students:this.state.students,deleteStudent:this.deleteStudent,changeTab:this.changeTab}))))),r.a.createElement("div",{className:"WorkOnExamStudents"},r.a.createElement("h1",null,this.props.heading),r.a.createElement("p",null,"Each person that is given the link to your exam will need to choose his or her name from your student list."),e)}}]),t}(r.a.Component)),wt=n(66),Ct=n(87),kt=(n(142),function(e){function t(t){var n=t.target.getAttribute("data-id"),a=t.target.querySelector("input");n?e.onChangeOptionAnswer(n):e.onChangeOptionAnswer(a.getAttribute("data-id"))}function n(t){e.onChangeOptionName(t.target.getAttribute("data-id"),t.target.value)}function a(t){e.onDeleteOption(t.target.getAttribute("data-id"))}function s(t){e.onAddOption(t.target.getAttribute("data-id"))}return r.a.createElement("div",{className:"MultipleQuestionOptionsForm"},r.a.createElement(it.a.Label,null,e.areOptionsBeingEdited?"Edit":"Create"," Your Options:"),r.a.createElement("p",null,"Add or delete as many question options as you would like. Check the correct options."),e.questionOptions.map((function(i){return r.a.createElement(wt.a,{key:"option-".concat(i.optionId)},r.a.createElement(wt.a.Prepend,{onClick:t},"checkbox"===e.questionType?r.a.createElement(wt.a.Checkbox,{checked:!0===i.answer,name:"answer","data-id":i.optionId,onChange:t}):r.a.createElement(wt.a.Radio,{"data-id":i.optionId,checked:!0===i.answer,name:"answer",onChange:t})),r.a.createElement(Ct.a,{"data-id":i.optionId,onChange:n,value:i.name,name:"option"}),r.a.createElement(wt.a.Append,null,r.a.createElement(tt.a,{variant:"success","data-id":i.optionId,onClick:s},"+"),r.a.createElement(tt.a,{variant:"danger","data-id":i.optionId,onClick:a},"\xd7")))})))}),Tt=(n(143),function(e){function t(t){var n="true"===t.target.value;e.onChangeAnswer(n)}return r.a.createElement("div",{className:"TrueOrFalseQuestionForm"},r.a.createElement(it.a.Group,null,r.a.createElement(it.a.Label,null,"What's the correct answer?"),r.a.createElement("div",{className:"radio"},r.a.createElement(it.a.Check,{value:"true",name:"trueOrFalse",type:"radio",inline:!0,label:"true",checked:!0===e.questionAnswer,onChange:t}),r.a.createElement(it.a.Check,{value:"false",name:"trueOrFalse",type:"radio",inline:!0,label:"false",checked:!1===e.questionAnswer,onChange:t}))))}),qt=(n(144),function(e){function t(){var e,n;Object(Ge.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(Xe.a)(this,(e=Object(He.a)(t)).call.apply(e,[this].concat(s)))).state={questionType:"radio",questionName:"",error:"",questionOptions:[{optionId:xt.a.generate(),name:"",answer:!1},{optionId:xt.a.generate(),name:"",answer:!1}],questionAnswer:[]},n.handleQuestionTypeChange=function(e){var t=e.target.value,a="trueOrFalse"===t?[]:[{optionId:xt.a.generate(),name:"",answer:!1},{optionId:xt.a.generate(),name:"",answer:!1}],r="trueOrFalse"===t||[];n.setState({questionType:t,questionOptions:a,questionAnswer:r})},n.handleQuestionNameChange=function(e){n.setState({questionName:e.target.value})},n.handleQuestionOptionNameChange=function(e,t){var a=_()(n.state.questionOptions).map((function(n){return n.optionId===e&&(n.name=t),n})),r=a.filter((function(e){return!0===e.answer})).map((function(e){return e.optionId}));n.setState({questionOptions:a,questionAnswer:r})},n.handleTrueOrFalseAnswerChange=function(){n.setState({questionAnswer:!n.state.questionAnswer})},n.handleCheckboxAnswerChange=function(e){var t=_()(n.state.questionOptions).map((function(t){return e===t.optionId&&(t.answer=!t.answer),t})),a=t.filter((function(e){return!0===e.answer})).map((function(e){return e.optionId}));n.setState({questionOptions:t,questionAnswer:a})},n.handleRadioAnswerChange=function(e){var t=_()(n.state.questionOptions).map((function(t){return t.optionId===e?t.answer=!0:t.answer=!1,t})),a=t.filter((function(e){return!0===e.answer})).map((function(e){return e.optionId}));n.setState({questionOptions:t,questionAnswer:a})},n.handleQuestionOptionAdd=function(e){var t=_()(n.state.questionOptions),a={optionId:xt.a.generate(),name:"",answer:!1},r=t.findIndex((function(t){return t.optionId===e}));t.splice(r+1,0,a),n.setState({questionOptions:t})},n.handleQuestionOptionDelete=function(e){var t=_()(n.state.questionOptions).filter((function(t){return t.optionId!==e}));if(n.state.questionOptions.length>2){var a=t.filter((function(e){return!0===e.answer})).map((function(e){return e.optionId}));n.setState({questionOptions:t,questionAnswer:a})}},n.handleCreatingMultiOptionQuestion=function(e){e.preventDefault();var t={name:n.state.questionName,type:n.state.questionType,options:n.state.questionOptions,answer:n.state.questionAnswer,id:xt.a.generate()},a=/^\s*$/.test(t.name),r=t.options.some((function(e){return/^\s*$/.test(e.name)})),s=0!==n.state.questionAnswer.length;a?n.setState({error:"Your exam question must have a name."}):r?n.setState({error:"Your question options must not be empty."}):s?(n.props.onCreateQuestion(t),n.setState({questionName:"",questionType:t.type,questionOptions:[{optionId:xt.a.generate(),name:"",answer:!1},{optionId:xt.a.generate(),name:"",answer:!1}],questionAnswer:[],error:""})):n.setState({error:"Your question must have ".concat("checkbox"===n.state.questionType?"some options":"an option"," checked as correct.")})},n.handleCreatingTrueOrFalseQuestion=function(e){e.preventDefault();var t={name:n.state.questionName,type:n.state.questionType,options:n.state.questionOptions,answer:[n.state.questionAnswer.toString()],id:xt.a.generate()},a=/^\s*$/.test(t.name),r="boolean"===typeof n.state.questionAnswer;a?n.setState({error:"Your exam question must have a name."}):r?(n.props.onCreateQuestion(t),n.setState({questionName:"",questionType:"trueOrFalse",questionOptions:[],questionAnswer:!0,error:""})):n.setState({error:"You must select true or false for your question."})},n.renderFormType=function(){var e=r.a.createElement(kt,{onChangeOptionAnswer:n.handleRadioAnswerChange,onAddOption:n.handleQuestionOptionAdd,onDeleteOption:n.handleQuestionOptionDelete,questionType:n.state.questionType,questionOptions:n.state.questionOptions,onChangeOptionName:n.handleQuestionOptionNameChange,areOptionsBeingEdited:!1}),t=r.a.createElement(kt,{onChangeOptionAnswer:n.handleCheckboxAnswerChange,onAddOption:n.handleQuestionOptionAdd,onDeleteOption:n.handleQuestionOptionDelete,onChangeOptionName:n.handleQuestionOptionNameChange,questionOptions:n.state.questionOptions,questionType:n.state.questionType,areOptionsBeingEdited:!1}),a=r.a.createElement(Tt,{questionAnswer:n.state.questionAnswer,onChangeAnswer:n.handleTrueOrFalseAnswerChange});switch(n.state.questionType){case"radio":return e;case"checkbox":return t;default:return a}},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"CreateQuestion"},r.a.createElement("div",{className:"scrollOnOverflow"},r.a.createElement("h2",null,"Create Question:"),this.state.error?r.a.createElement(ot.a,{variant:"info"},r.a.createElement("span",null,"\u26a0 "),this.state.error):"",r.a.createElement(it.a,{onSubmit:"trueOrFalse"===this.state.questionType?this.handleCreatingTrueOrFalseQuestion:this.handleCreatingMultiOptionQuestion},r.a.createElement(it.a.Group,null,r.a.createElement(it.a.Label,null,"Name:"),r.a.createElement(it.a.Control,{onChange:this.handleQuestionNameChange,placeholder:"Name",value:this.state.questionName,type:"text"})),r.a.createElement(it.a.Group,null,r.a.createElement(it.a.Label,null,"What kind of question is it?"),r.a.createElement(it.a.Control,{value:this.state.questionType,onChange:this.handleQuestionTypeChange,as:"select"},r.a.createElement("option",{value:"radio"},"Radio"),r.a.createElement("option",{value:"checkbox"},"Checkbox"),r.a.createElement("option",{value:"trueOrFalse"},"True Or False"))),this.renderFormType(),r.a.createElement(tt.a,{variant:"info",type:"submit"},"Create Question"))))}}]),t}(r.a.Component)),Nt=(n(145),function(e){function t(){var e,n;Object(Ge.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(Xe.a)(this,(e=Object(He.a)(t)).call.apply(e,[this].concat(s)))).state={questionType:n.props.question.type,questionName:n.props.question.name,questionOptions:n.props.question.options,questionAnswer:"trueOrFalse"===n.props.question.type?"true"===n.props.question.answer[0]:n.props.question.answer,error:""},n.handleQuestionTypeChange=function(e){var t=e.target.value,a="trueOrFalse"===t?[]:[{optionId:xt.a.generate(),name:"",answer:!1},{optionId:xt.a.generate(),name:"",answer:!1}],r="trueOrFalse"===t||[];n.setState({questionType:t,questionOptions:a,questionAnswer:r})},n.handleQuestionNameChange=function(e){n.setState({questionName:e.target.value})},n.handleQuestionOptionNameChange=function(e,t){var a=_()(n.state.questionOptions).map((function(n){return n.optionId===e&&(n.name=t),n}));n.setState({questionOptions:a})},n.handleQuestionOptionAdd=function(e){var t=_()(n.state.questionOptions),a={optionId:xt.a.generate(),name:"",answer:!1},r=t.findIndex((function(t){return t.optionId===e}));t.splice(r+1,0,a),n.setState({questionOptions:t})},n.handleQuestionOptionDelete=function(e){var t=_()(n.state.questionOptions).filter((function(t){return t.optionId!==e}));n.state.questionOptions.length>2&&n.setState({questionOptions:t})},n.handleTrueOrFalseAnswerChange=function(){n.setState({questionAnswer:!n.state.questionAnswer})},n.handleCheckboxAnswerChange=function(e){var t=_()(n.state.questionOptions).map((function(t){return e===t.optionId&&(t.answer=!t.answer),t})),a=t.filter((function(e){return!0===e.answer})).map((function(e){return e.optionId}));n.setState({questionOptions:t,questionAnswer:a})},n.handleRadioAnswerChange=function(e){var t=_()(n.state.questionOptions).map((function(t){return t.optionId===e?t.answer=!0:t.answer=!1,t})),a=t.filter((function(e){return!0===e.answer})).map((function(e){return e.optionId}));n.setState({questionOptions:t,questionAnswer:a})},n.handleCompletingMultiOptionQuestion=function(e){e.preventDefault();var t={id:n.props.question.id,name:n.state.questionName,type:n.state.questionType,options:n.state.questionOptions,answer:n.state.questionAnswer},a=/^\s*$/.test(t.name),r=t.options.some((function(e){return/^\s*$/.test(e.name)})),s=0!==t.answer.length;a?n.setState({error:"Your exam question must have a name."}):r?n.setState({error:"Your question options must not be empty."}):s?n.props.editQuestion(t):n.setState({error:"Your question must have ".concat("checkbox"===t.type?"some options":"an option"," checked as correct.")})},n.handleCompletingTrueOrFalseQuestion=function(e){e.preventDefault();var t={id:n.props.question.id,name:n.state.questionName,type:n.state.questionType,options:[],answer:[n.state.questionAnswer.toString()]},a=/^\s*$/.test(t.name),r="boolean"===typeof n.state.questionAnswer;a?n.setState({error:"Your exam question must have a name."}):r?n.props.editQuestion(t):n.setState({error:"You must select true or false for your question."})},n.renderFormType=function(){var e=r.a.createElement(kt,{onChangeOptionAnswer:n.handleRadioAnswerChange,onAddOption:n.handleQuestionOptionAdd,onDeleteOption:n.handleQuestionOptionDelete,questionType:n.state.questionType,questionOptions:n.state.questionOptions,onChangeOptionName:n.handleQuestionOptionNameChange,areOptionsBeingEdited:!0}),t=r.a.createElement(kt,{onChangeOptionAnswer:n.handleCheckboxAnswerChange,onAddOption:n.handleQuestionOptionAdd,onDeleteOption:n.handleQuestionOptionDelete,onChangeOptionName:n.handleQuestionOptionNameChange,questionOptions:n.state.questionOptions,questionType:n.state.questionType,areOptionsBeingEdited:!0}),a=r.a.createElement(Tt,{questionAnswer:n.state.questionAnswer,onChangeAnswer:n.handleTrueOrFalseAnswerChange});switch(n.state.questionType){case"radio":return e;case"checkbox":return t;default:return a}},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"EditQuestion"},r.a.createElement("div",{className:"scrollOnOverflow"},r.a.createElement("h2",null,"Edit Question:"),this.state.error?r.a.createElement(ot.a,{variant:"info"},r.a.createElement("span",null,"\u26a0 "),this.state.error):"",r.a.createElement(it.a,{onSubmit:"trueOrFalse"===this.state.questionType?this.handleCompletingTrueOrFalseQuestion:this.handleCompletingMultiOptionQuestion},r.a.createElement(it.a.Group,null,r.a.createElement(it.a.Label,null,"Name:"),r.a.createElement(it.a.Control,{onChange:this.handleQuestionNameChange,placeholder:"Name",type:"text",value:this.state.questionName})),r.a.createElement(it.a.Group,null,r.a.createElement(it.a.Label,null,"What kind of question is it?"),r.a.createElement(it.a.Control,{value:this.state.questionType,onChange:this.handleQuestionTypeChange,as:"select"},r.a.createElement("option",{value:"radio"},"Radio"),r.a.createElement("option",{value:"checkbox"},"Checkbox"),r.a.createElement("option",{value:"trueOrFalse"},"True Or False"))),this.renderFormType(),r.a.createElement(tt.a,{variant:"info",type:"submit"},"Edit Question"))))}}]),t}(r.a.Component)),jt=(n(146),function(e){var t=e.question,n=t.type,a=t.name,s=t.answer,i=t.options,o="trueOrFalse"===n?r.a.createElement(r.a.Fragment,null,r.a.createElement(it.a.Label,null,e.index?"".concat(e.index,". "):"",a),r.a.createElement("div",{className:"trueOrFalseOptions"},r.a.createElement(it.a.Check,{readOnly:!0,checked:"true"===s[0],inline:!0,type:"radio",label:"true"}),r.a.createElement(it.a.Check,{readOnly:!0,inline:!0,checked:"false"===s[0],type:"radio",label:"false"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(it.a.Label,null,e.index?"".concat(e.index,". "):"",a),r.a.createElement("div",{className:"questionOptions"},i.map((function(e){return r.a.createElement(it.a.Check,{readOnly:!0,checked:!0===e.answer,key:e.optionId,type:n,label:e.name})}))));return r.a.createElement("div",{className:"ReadOnlyQuestion ".concat("trueOrFalse"===e.question.type?"trueOrFalse":"multiChoice","Question")},o)}),At=(n(147),function(e){var t=e.eventKey,n=e.question.name;return r.a.createElement("div",{className:"QuestionCard"},r.a.createElement(Ot.a,null,r.a.createElement(bt.a.Toggle,{as:Ot.a.Header,eventKey:t},t+1,". ",n),r.a.createElement(bt.a.Collapse,{eventKey:t},r.a.createElement(Ot.a.Body,null,r.a.createElement(jt,{question:e.question}),r.a.createElement(tt.a,{onClick:e.editQuestion,variant:"info",block:!0},"Edit Question"),r.a.createElement(tt.a,{onClick:e.deleteQuestion,variant:"danger",block:!0},"Delete Question")))))}),It=(n(148),function(e){return r.a.createElement("div",{className:"QuestionsSoFar"},r.a.createElement("div",{className:"scrollOnOverflow"},r.a.createElement("h2",null,"Questions So Far"),r.a.createElement(bt.a,null,e.questions.map((function(t,n){return r.a.createElement(At,{key:xt.a.generate(),eventKey:n,question:t,editQuestion:function(){window.innerWidth<=500&&e.changeTab("workOnQuestion"),e.editQuestionStart(t)},deleteQuestion:function(){e.deleteQuestion(t.id)}})})))))}),_t=(n(149),function(e){function t(){var e,n;Object(Ge.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(Xe.a)(this,(e=Object(He.a)(t)).call.apply(e,[this].concat(r)))).state={questions:n.props.examQuestions,questionToBeEdited:{},isWindowMobileSize:!1,currentActiveTab:"workOnQuestion",hasQuestionsChanged:!1},n.updateIsWindowMobileSize=function(){window.innerWidth<=500!==n.state.isWindowMobileSize&&n.setState({isWindowMobileSize:window.innerWidth<=500})},n.changeTab=function(e){n.setState({currentActiveTab:e})},n.startEditingQuestion=function(e){n.setState({questionToBeEdited:e})},n.editQuestion=function(e){var t=_()(n.state.questions),a=_()(e),r=t.map((function(e){return e.id===a.id?a:e}));n.setState({questions:r,questionToBeEdited:{},hasQuestionsChanged:!0})},n.addQuestion=function(e){var t=_()(n.state.questions);t.push(e),n.setState({questions:t,hasQuestionsChanged:!0})},n.deleteQuestion=function(e){var t=_()(n.state.questions).filter((function(t){return t.id!==e}));n.state.questionToBeEdited.id===e?n.setState({questions:t,questionToBeEdited:{}}):n.setState({questions:t,hasQuestionsChanged:!0})},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateIsWindowMobileSize.bind(this)),this.updateIsWindowMobileSize()}},{key:"componentWillUnmount",value:function(){this.props.completeExamQuestions(this.state.questions,this.state.hasQuestionsChanged),window.removeEventListener("resize",this.updateIsWindowMobileSize)}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"WorkOnExamQuestionsMain"},r.a.createElement(It,{editQuestionStart:this.startEditingQuestion,questions:this.state.questions,deleteQuestion:this.deleteQuestion}),this.state.questionToBeEdited.id?r.a.createElement(Nt,{question:this.state.questionToBeEdited,editQuestion:this.editQuestion,key:this.state.questionToBeEdited.id}):r.a.createElement(qt,{onCreateQuestion:this.addQuestion}));return this.state.isWindowMobileSize&&(e=r.a.createElement("div",{className:"MobileWorkOnExamQuestionsMain"},r.a.createElement(ht.a,{activeKey:this.state.currentActiveTab,onSelect:this.changeTab},r.a.createElement(Et.a,{eventKey:"workOnQuestion",title:this.state.questionToBeEdited.id?"Edit Question":"Create Question"},this.state.questionToBeEdited.id?r.a.createElement(Nt,{question:this.state.questionToBeEdited,editQuestion:this.editQuestion,key:this.state.questionToBeEdited.id}):r.a.createElement(qt,{onCreateQuestion:this.addQuestion})),r.a.createElement(Et.a,{eventKey:"questions",title:"Questions So Far"},r.a.createElement(It,{editQuestionStart:this.startEditingQuestion,questions:this.state.questions,deleteQuestion:this.deleteQuestion,changeTab:this.changeTab}))))),r.a.createElement("div",{className:"WorkOnExamQuestions"},r.a.createElement("h1",null,this.props.heading),e)}}]),t}(r.a.Component)),Lt=n(34),Qt=n(35),Bt=(n(153),function(e){var t="CreateExamGeneralControls",n=r.a.createElement(tt.a,{className:"nextBtn",size:"lg",variant:"info",onClick:e.forwardFunction,disabled:e.disableNextBtn},"Next ",r.a.createElement(Lt.a,{icon:Qt.b}));switch(e.examPart){case"title":t="CreateExamTitleControls";break;case"finish":t="CreateExamFinishControls",n=e.isUserLoggedIn?r.a.createElement(at,{classes:"finishBtn",size:"lg",variant:"info",type:"button",onClickFunc:e.finishFunction,loading:e.loading},"Save ",r.a.createElement(Lt.a,{icon:Qt.c})):r.a.createElement(o.b,{to:"/auth"},r.a.createElement(tt.a,{className:"finishBtn",size:"lg",variant:"info"},"Save ",r.a.createElement(Lt.a,{icon:Qt.c})))}return r.a.createElement("div",{className:"CreateAExamControls ".concat(t)},r.a.createElement(tt.a,{className:"backBtn",size:"lg",onClick:e.backwardFunction,variant:"info"},r.a.createElement(Lt.a,{icon:Qt.a})," Back"),r.a.createElement(tt.a,{className:"resetBtn",size:"lg",onClick:e.resetFunction,variant:"info"},r.a.createElement(Lt.a,{icon:Qt.d})),n)}),Pt=(n(154),function(e){var t=0===e.exam.questions.length,n=0===e.exam.students.length,a="";return t&&n?a="noStudentsOrQuestions":t?a="noQuestions":n&&(a="noStudents"),r.a.createElement("div",{className:"WorkOnExamFinish"},r.a.createElement("h1",null,"Save Your Exam"),a?r.a.createElement(ot.a,{variant:"info"},{noStudents:"Your exam doesn't contain any students. You can save your exam but nobody will be able to take the exam until you add at least one student.",noQuestions:"Your exam doesn't contain any questions. You can save your exam but nobody will be able to take the exam until you add at least one question",noStudentsOrQuestions:"Your exam doesn't contain any students or questions. You can save your exam but nobody will be able to take the exam until you add at least one student and question."}[a]):"",r.a.createElement("p",null,e.text),r.a.createElement("div",{className:"examExample"},r.a.createElement("div",{className:"scrollOnOverflow"},r.a.createElement("h1",null,e.exam.title),t?r.a.createElement("p",null,"This exam contains no questions."):"",e.exam.questions.map((function(e,t){return r.a.createElement(jt,{key:e.id,index:t+1,question:e})})),r.a.createElement("hr",null),r.a.createElement("p",{className:"studentListTitle"},"Student List"),r.a.createElement("ul",{className:"studentsList ".concat(n?"noStudentsList":"")},n?r.a.createElement("p",null,"This exam contains no students."):"",e.exam.students.map((function(e){return r.a.createElement("li",{key:e.id},e.name)}))))))}),Ut=(n(155),function(e){function t(){var e,n;Object(Ge.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(Xe.a)(this,(e=Object(He.a)(t)).call.apply(e,[this].concat(r)))).state={disableNextBtn:/^\s*$/.test(n.props.exam.title)},n.setDisableNextButton=function(e){n.setState({disableNextBtn:e})},n.goToNextExamPart=function(){switch(n.props.examPart){case"start":n.props.createExamChangePart("title");break;case"title":n.props.createExamChangePart("questions");break;case"questions":n.props.createExamChangePart("students");break;case"students":n.props.createExamChangePart("finish");break;default:return}},n.goBackOneExamPart=function(){switch(n.props.examPart){case"questions":n.props.createExamChangePart("title");break;case"students":n.props.createExamChangePart("questions");break;case"finish":n.props.createExamChangePart("students")}},n.createExam=function(){var e=_()(n.props.exam);e.questions.map((function(e){return"trueOrFalse"===e.type&&(e.type="true_false"),e})),n.props.createExam(e)},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"render",value:function(){var e=this,t=this.props.exam,n=t.title,a=t.questions,s=t.students,i=r.a.createElement(mt,{isUserLoggedIn:this.props.isUserLoggedIn,nextExamPart:this.goToNextExamPart});switch(this.props.examPart){case"title":i=r.a.createElement(pt,{examTitle:n,completeExamTitle:function(t){return e.props.createExamTitle(t)},changeNextBtn:this.setDisableNextButton,heading:"What is your exam's title?"});break;case"questions":i=r.a.createElement(_t,{examQuestions:a,completeExamQuestions:function(t){return e.props.createExamQuestions(t)},heading:"Create Questions For Your Exam"});break;case"students":i=r.a.createElement(yt,{examStudents:s,completeExamStudents:function(t){return e.props.createExamStudents(t)},heading:"Add Students To Your Exam"});break;case"finish":i=r.a.createElement(Pt,{exam:this.props.exam,text:"Here is your exam so far:"});break;default:i=r.a.createElement(mt,{isUserLoggedIn:this.props.isUserLoggedIn,nextExamPart:this.goToNextExamPart})}return r.a.createElement("div",{className:"CreateAExam"},i,"start"!==this.props.examPart?r.a.createElement(Bt,{examPart:this.props.examPart,forwardFunction:this.goToNextExamPart,backwardFunction:this.goBackOneExamPart,resetFunction:function(){return e.props.createExamReset()},disableNextBtn:this.state.disableNextBtn,finishFunction:this.createExam,isUserLoggedIn:this.props.isUserLoggedIn,loading:this.props.loading}):"")}}]),t}(r.a.Component));var Ft=Object(u.b)((function(e){var t=e.auth.isUserLoggedIn,n=e.exam,a=n.examBeingCreated;return{isUserLoggedIn:t,examPart:n.currentExamBeingCreatedPart,exam:a,loading:n.createExamLoading}}),(function(e){return{createExamChangePart:function(t){return e({type:L,examPart:t})},createExamReset:function(){return e({type:Q})},createExamTitle:function(t){return e(function(e){return{type:B,title:e}}(t))},createExamQuestions:function(t){return e(function(e){return{type:P,questions:e}}(t))},createExamStudents:function(t){return e(function(e){return{type:U,students:e}}(t))},createExam:function(t){return e(function(e){return{type:F,exam:e}}(t))}}}))(Ut),Mt=(n(156),function(e){function t(){var e,n;Object(Ge.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(Xe.a)(this,(e=Object(He.a)(t)).call.apply(e,[this].concat(r)))).state={selectedExam:{}},n.handleExamChange=function(e){var t=n.props.userExams.find((function(t){return t._id===e.target.value}));n.setState({selectedExam:t})},n.handleExamSelection=function(){var e=n.state.selectedExam._id?n.state.selectedExam:_()(n.props.userExams).sort((function(e,t){return e.title>t.title?1:-1}))[0];n.props.selectExam(e),n.props.nextExamPart("title")},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"componentDidMount",value:function(){this.props.getUserExams()}},{key:"render",value:function(){var e=_()(this.props.userExams).sort((function(e,t){return e.title>t.title?1:-1}));return r.a.createElement("div",{className:"EditAExamStart"},r.a.createElement("div",{className:"h1"},"Edit A Exam"),this.props.loading?r.a.createElement("div",{className:"spinner"},r.a.createElement(nt.a,{animation:"border",variant:"info"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):this.props.userExams.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(it.a.Group,null,r.a.createElement(it.a.Label,null,"Choose A Exam To Edit:"),r.a.createElement(it.a.Control,{onChange:this.handleExamChange,as:"select"},e.map((function(e){return r.a.createElement("option",{value:e._id,key:e._id},e.title)})))),r.a.createElement(tt.a,{onClick:this.handleExamSelection,size:"lg",variant:"info"},"Start")):r.a.createElement("p",null,"You haven't created any exams."," ",r.a.createElement("a",{href:"/create-exam"},"Create a exam.")))}}]),t}(r.a.Component));var Dt=Object(u.b)((function(e){var t=e.exam;return{userExams:t.userExams,loading:t.getUserExamsLoading}}),(function(e){return{getUserExams:function(){return e(xe())}}}))(Mt),zt=(n(157),function(e){var t="EditAExamGeneralControls",n=r.a.createElement(r.a.Fragment,null,r.a.createElement(tt.a,{className:"resetBtn",size:"lg",onClick:e.resetFunction,variant:"info"},r.a.createElement("span",null,"Cancel Exam Changes "),r.a.createElement(Lt.a,{icon:Qt.d})),r.a.createElement(at,{classes:"finishBtn",size:"lg",variant:"info",type:"button",onClickFunc:e.goToFinishExamPart,loading:e.loading},r.a.createElement("span",null,"Save Exam Changes "),r.a.createElement(Lt.a,{icon:Qt.c}))),a=r.a.createElement(tt.a,{className:"nextBtn",size:"lg",variant:"info",onClick:e.forwardFunction,disabled:e.disableNextBtn},r.a.createElement("span",null,"Next "),r.a.createElement(Lt.a,{icon:Qt.b}));switch(e.examPart){case"title":t="EditAExamTitleControls";break;case"finish":t="EditAExamFinishControls",n=r.a.createElement(tt.a,{className:"resetBtn",size:"lg",onClick:e.resetFunction,variant:"info"},r.a.createElement("span",null,"Cancel Exam Changes "),r.a.createElement(Lt.a,{icon:Qt.d})),a=r.a.createElement(at,{classes:"finishBtn",size:"lg",variant:"info",type:"button",onClickFunc:e.finishFunction,loading:e.loading},r.a.createElement("span",null,"Save Exam Changes "),r.a.createElement(Lt.a,{icon:Qt.c}))}return r.a.createElement("div",{className:"EditAExamControls ".concat(t)},r.a.createElement(tt.a,{className:"backBtn",size:"lg",onClick:e.backwardFunction,variant:"info"},r.a.createElement(Lt.a,{icon:Qt.a}),r.a.createElement("span",null," Back")),n,a)}),Rt=(n(158),function(e){function t(){var e,n;Object(Ge.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(Xe.a)(this,(e=Object(He.a)(t)).call.apply(e,[this].concat(r)))).state={disableNextBtn:/^\s*$/.test(n.props.exam.title)},n.setDisableNextButton=function(e){n.setState({disableNextBtn:e})},n.goToNextExamPart=function(){switch(n.props.examPart){case"start":n.props.editExamChangePart("title");break;case"title":n.props.editExamChangePart("questions");break;case"questions":n.props.editExamChangePart("students");break;case"students":n.props.editExamChangePart("finish");break;default:return}},n.goBackOneExamPart=function(){switch(n.props.examPart){case"questions":n.props.editExamChangePart("title");break;case"students":n.props.editExamChangePart("questions");break;case"finish":n.props.editExamChangePart("students")}},n.selectExam=function(e){var t=_()(e);t.questions=t.questions.map((function(e){return e.id=e._id,"true_false"===e.type&&(e.type="trueOrFalse"),e.options=e.options.map((function(t){return t.answer=e.answer.some((function(e){return e===t.optionId})),t})),e})),t.students=t.students.map((function(e){return e.id=e._id,e})),n.props.editExamSelectExam(t)},n.updateTitle=function(e,t){t&&n.props.editExamTitle(e)},n.updateQuestions=function(e,t){t&&n.props.editExamQuestions(e)},n.updateStudents=function(e,t){t&&n.props.editExamStudents(e)},n.saveExam=function(){n.props.editExam(n.props.exam,n.props.examPartsBeingEdited)},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.examPartsBeingEdited,a=t.exam,s=0===n.title.length?a.title:n.title,i=0===n.questions.length?a.questions:n.questions,o=0===n.students.length?a.students:n.students,u=_()(this.props.exam);u.title=s,u.questions=i,u.students=o;var c=r.a.createElement(Dt,{isUserLoggedIn:this.props.isUserLoggedIn,nextExamPart:this.goToNextExamPart,selectExam:this.selectExam});switch(this.props.examPart){case"title":c=r.a.createElement(pt,{examTitle:s,completeExamTitle:this.updateTitle,changeNextBtn:this.setDisableNextButton,heading:"Edit Your Exam Title"});break;case"questions":c=r.a.createElement(_t,{examQuestions:i,completeExamQuestions:this.updateQuestions,heading:"Edit Your Exam Questions"});break;case"students":c=r.a.createElement(yt,{examStudents:o,completeExamStudents:this.updateStudents,heading:"Edit Your Exam Students"});break;case"finish":c=r.a.createElement(Pt,{text:"Here is your exam with its new changes:",exam:u});break;default:c=r.a.createElement(Dt,{isUserLoggedIn:this.props.isUserLoggedIn,selectExam:this.selectExam,nextExamPart:this.goToNextExamPart})}return r.a.createElement("div",{className:"EditAExam"},c,"start"!==this.props.examPart?r.a.createElement(zt,{examPart:this.props.examPart,forwardFunction:this.goToNextExamPart,backwardFunction:this.goBackOneExamPart,disableNextBtn:this.state.disableNextBtn,finishFunction:this.saveExam,goToFinishExamPart:function(){return e.props.editExamChangePart("finish")},resetFunction:function(){return e.props.editExamReset()},loading:this.props.loading}):"")}}]),t}(r.a.Component));var Wt=Object(u.b)((function(e){var t=e.exam,n=t.examToBeEdited,a=t.examPartsBeingEdited,r=t.currentExamBeingEditedPart,s=t.editExamLoading;return{isUserLoggedIn:e.auth.isUserLoggedIn,exam:n,examPart:r,examPartsBeingEdited:a,loading:s}}),(function(e){return{editExamSelectExam:function(t){return e(ge(t))},editExamReset:function(){return e({type:ne})},editExamChangePart:function(t){return e(ve(t))},editExamTitle:function(t){return e(function(e){return{type:re,title:e}}(t))},editExamQuestions:function(t){return e(function(e){return{type:se,questions:e}}(t))},editExamStudents:function(t){return e(function(e){return{type:ie,students:e}}(t))},editExam:function(t,n){return e(function(e,t){return{type:oe,exam:e,examPartsBeingEdited:t}}(t,n))}}}))(Rt),Gt=n(54),Yt=n(33),Xt=n(101),Ht=(n(159),function(e){var t=Object(a.useState)(!0),n=Object(Yt.a)(t,2),s=n[0],i=n[1];Object(a.useEffect)((function(){function e(){window.innerWidth<=500!==s&&i(window.innerWidth<=500)}return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[s]);var o=0===e.students.length;return r.a.createElement("div",{className:"ExamStudents"},r.a.createElement("p",{className:"title"},"Student List"),r.a.createElement("div",{className:"studentsList"},o?r.a.createElement("p",null,"This exam contains no students."):r.a.createElement(Xt.a,{variant:"flush"},e.students.map((function(t){var n,a,i=(n=t.questionsCorrect,a=t.questionsIncorrect,{correctQuestionNumbers:n.map((function(t){return e.questions.findIndex((function(e){return e._id===t}))+1})),incorrectQuestionNumbers:a.map((function(t){return e.questions.findIndex((function(e){return e._id===t}))+1}))});return r.a.createElement(Xt.a.Item,{key:t._id},r.a.createElement("p",{className:"studentName"},t.name),r.a.createElement(Ze.a,{drop:s?"down":"right",variant:"info",title:"See Exam Results",disabled:!t.takenTest},r.a.createElement("strong",null,"Exam Results:"),r.a.createElement("div",{className:"examResults"},r.a.createElement("div",{className:"correctQuestions"},r.a.createElement("p",null,"Correct Questions"),r.a.createElement("ul",null,i.correctQuestionNumbers.map((function(e){return r.a.createElement("li",{key:e},e)})))),r.a.createElement("div",{className:"incorrectQuestions"},r.a.createElement("p",null,"Incorrect Questions"),r.a.createElement("ul",null,i.incorrectQuestionNumbers.map((function(e){return r.a.createElement("li",{key:e},e)})))))))})))))}),Jt=(n(160),function(e){var t=Object(a.useState)(!1),n=Object(Yt.a)(t,2),s=n[0],i=n[1],o=0===e.exam.questions.length,u=_()(e.exam.questions);return u=(u=u.map((function(e){return function(e){return e.answer.map((function(t){return e.options=e.options.map((function(e){return t===e.optionId&&(e.answer=!0),e})),t})),e}(e)}))).map((function(e){return"true_false"===e.type?(e.type="trueOrFalse",e):e})),r.a.createElement("div",{className:"ExamExample"},r.a.createElement("div",{className:"container"},r.a.createElement("strong",null,e.exam.title),r.a.createElement(tt.a,{onClick:function(){return function(e){var t="https://julieg18.github.io/exam-creator/#/take-exam/".concat(e),n=document.createElement("textarea");n.value=t,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),i(!0)}(e.exam._id)},size:"sm",variant:"info",className:"copyExamLinkBtn",disabled:0===e.exam.students.length||0===e.exam.questions.length},s?"Copied!":"Copy Link To Exam"),r.a.createElement(tt.a,{onClick:function(){return e.editExamFunc(e.exam._id)},size:"sm",variant:"info",className:"editExamBtn"},"Edit Exam"),r.a.createElement(tt.a,{onClick:e.deleteExamFunc,size:"sm",variant:"danger",className:"deleteExamBtn"},"Delete Exam")),o?r.a.createElement("p",null,"This exam contains no questions."):"",r.a.createElement("div",{className:"examQuestions"},u.map((function(e,t){return r.a.createElement(jt,{key:e._id,index:t+1,question:e})}))),r.a.createElement("hr",null),r.a.createElement(Ht,{questions:e.exam.questions,students:e.exam.students}))}),Kt=(n(161),function(e){function t(){var e,n;Object(Ge.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(Xe.a)(this,(e=Object(He.a)(t)).call.apply(e,[this].concat(r)))).state={examSelected:{},showModal:!1,toEditExam:!1},n.hideModal=function(){n.setState({showModal:!1})},n.showModal=function(){n.setState({showModal:!0})},n.handleStartOfEditExam=function(){var e=n.state.examSelected._id?n.state.examSelected._id:_()(n.props.userExams).sort((function(e,t){return e.title>t.title?1:-1}))[0]._id,t=n.props.userExams.find((function(t){return t._id===e}));t.questions=t.questions.map((function(e){return e.id=e._id,"true_false"===e.type&&(e.type="trueOrFalse"),e.options=e.options.map((function(t){return t.answer=e.answer.some((function(e){return e===t.optionId})),t})),e})),t.students=t.students.map((function(e){return e.id=e._id,e})),n.props.editExamSelectExam(t),n.props.editExamChangePart("title"),n.setState({toEditExam:!0})},n.handleExamDeletion=function(){n.hideModal();var e=n.state.examSelected._id?n.state.examSelected._id:_()(n.props.userExams).sort((function(e,t){return e.title>t.title?1:-1}))[0]._id;n.props.deleteExam(e);var t=_()(n.props.userExams).sort((function(e,t){return e.title>t.title?1:-1})).filter((function(t){return t._id!==e}))[0];n.setState({examSelected:t})},n.handleExamSelection=function(e){var t=n.props.userExams.find((function(t){return t._id===e}));n.setState({examSelected:t})},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"componentDidMount",value:function(){this.props.getUserExams()}},{key:"render",value:function(){var e=this;if(this.state.toEditExam)return r.a.createElement(Ke.a,{to:"/edit-exam"});var t=_()(this.props.userExams).sort((function(e,t){return e.title>t.title?1:-1}));return r.a.createElement("div",{className:"Exams"},r.a.createElement(Gt.a,{onHide:this.hideModal,show:this.state.showModal},r.a.createElement(Gt.a.Body,null,"Are you sure you want to delete this exam?",r.a.createElement("div",{className:"modalBtns"},r.a.createElement(tt.a,{variant:"info",onClick:this.hideModal},"Cancel"),r.a.createElement(tt.a,{variant:"danger",onClick:this.handleExamDeletion},"Delete Exam")))),r.a.createElement("h1",null,"Your Exams"),this.props.getUserExamsLoading||this.props.deleteExamLoading?r.a.createElement("div",{className:"spinner"},r.a.createElement(nt.a,{animation:"border",variant:"info"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):this.props.userExams.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"examsDropdownBtn"},r.a.createElement(Ze.a,{variant:"info",title:"Select A Exam"},t.map((function(t){return r.a.createElement(et.a.Item,{key:t._id,onClick:function(){return e.handleExamSelection(t._id)}},t.title)})))),r.a.createElement(Jt,{exam:this.state.examSelected._id?this.state.examSelected:t[0],key:this.state.examSelected._id||t[0]._id,deleteExamFunc:this.showModal,editExamFunc:this.handleStartOfEditExam})):r.a.createElement("p",null,"You haven't created any exams."," ",r.a.createElement("a",{href:"/create-exam"},"Create a exam.")))}}]),t}(r.a.Component));var $t=Object(u.b)((function(e){var t=e.exam;return{userExams:t.userExams,getUserExamsLoading:t.getUserExamsLoading,deleteExamLoading:t.deleteExamLoading}}),(function(e){return{getUserExams:function(){return e(xe())},deleteExam:function(t){return e(function(e){return{type:$,examId:e}}(t))},editExamSelectExam:function(t){return e(ge(t))},editExamChangePart:function(t){return e(ve(t))}}}))(Kt),Vt=n(99),Zt=n(110),en=n(108),tn=function(e){var t=e.index,n=e.question,a=n._id,s=n.name,i=n.type,o=n.options,u=r.a.createElement(r.a.Fragment,null,o.map((function(e){return r.a.createElement(it.a.Check,{key:e.optionId,label:e.name,name:a,type:i,value:e.optionId})})));return"true_false"===i&&(u=r.a.createElement(r.a.Fragment,null,r.a.createElement(it.a.Check,{value:"true",label:"True",name:a,type:"radio"}),r.a.createElement(it.a.Check,{value:"false",label:"False",name:a,type:"radio"}))),r.a.createElement(it.a.Group,null,r.a.createElement(it.a.Label,null,t,". ",s),r.a.createElement("div",{className:"questionOptions"},u))},nn=(n(162),function(e){var t=e.areQuestionsChecked&&e.selectedStudent.name?r.a.createElement(at,{type:"submit",variant:"info",size:"md",loading:e.saveExamResultsLoading},"Submit"):r.a.createElement(Zt.a,{overlay:r.a.createElement(en.a,null,e.selectedStudent.name?"You haven't answered all the exam questions.":"You need to choose a name.")},r.a.createElement("span",null,r.a.createElement(tt.a,{variant:"info",disabled:!0,style:{pointerEvents:"none"}},"Submit")));return r.a.createElement("div",{className:"ExamForm"},r.a.createElement(Ze.a,{variant:"info",title:e.selectedStudent.name||"What's Your Name?"},e.exam.students.map((function(t){return r.a.createElement(et.a.Item,{key:t._id,onClick:function(){return e.handleStudentChange(t)},disabled:t.takenTest},t.name)}))),r.a.createElement(it.a,{onChange:e.handleFormChange,onSubmit:e.handleCompletingExam},e.exam.questions.map((function(e,t){return r.a.createElement(tn,{index:t+1,key:e._id,question:e})})),t))});n(163);var an=Object(Ke.g)(Object(u.b)(null,(function(e){return{getExam:function(t){return e(function(e){return{type:R,examId:e}}(t))}}}))((function(e){var t=Object(a.useState)(!0),n=Object(Yt.a)(t,2),s=n[0],i=n[1],o=Object(a.useState)({}),u=Object(Yt.a)(o,2),c=u[0],l=u[1],d=Object(a.useState)(""),m=Object(Yt.a)(d,2),p=m[0],E=m[1],h=Object(a.useState)({}),f=Object(Yt.a)(h,2),x=f[0],g=f[1],v=Object(a.useState)(!1),b=Object(Yt.a)(v,2),O=b[0],S=b[1],y=Object(a.useState)(!1),w=Object(Yt.a)(y,2),C=w[0],k=w[1],T=Object(a.useState)(""),q=Object(Yt.a)(T,2),N=q[0],j=q[1],A=Object(a.useState)(!1),I=Object(Yt.a)(A,2),_=I[0],L=I[1],Q=e.match.params.examId;function B(){return(B=Object(Vt.a)(Ee.a.mark((function e(t,n){var a,r;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,fetch("/api/v1/exams/students/save-exam-results/".concat(c._id),{method:"PUT",body:JSON.stringify({studentId:x._id,questionsCorrect:t,questionsIncorrect:n}),headers:{"Content-Type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:if(r=e.sent,a.ok){e.next=10;break}throw Error(r.error);case 10:L(!1),k(!0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),L(!1),j("Something went wrong. :(");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(Vt.a)(Ee.a.mark((function e(t){var n,a;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,fetch("".concat("https://tranquil-retreat-28866.herokuapp.com","/api/v1/exams/").concat(t));case 4:return n=e.sent,e.next=7,n.json();case 7:if(a=e.sent,n.ok){e.next=10;break}throw Error(a.error);case 10:l(a.exam),i(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),E("Something went wrong. :("),i(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(Q)}),[Q]);var P=s?r.a.createElement("div",{className:"takeExamSpinner"},r.a.createElement(nt.a,{variant:"info",animation:"border"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):p?r.a.createElement(ot.a,{variant:"info"},p):r.a.createElement(r.a.Fragment,null,r.a.createElement(Gt.a,{show:C,onHide:function(){}},r.a.createElement(Gt.a.Header,null,r.a.createElement(Gt.a.Title,null,"Exam Results Saved!")),r.a.createElement(Gt.a.Body,null,"You can now exit this tab.")),r.a.createElement("h1",{className:"h1"},c.title),N?r.a.createElement(ot.a,{variant:"info"},N):"",r.a.createElement(nn,{areQuestionsChecked:O,selectedStudent:x,exam:c,handleStudentChange:function(e){g(e)},handleCompletingExam:function(e){e.preventDefault();var t=[],n=[];c.questions.map((function(e){for(var a=[],r=document.getElementsByName(e._id),s=0;s<r.length;s++)r[s].checked&&a.push(r[s].value);return e.answer.every((function(e,t){return e===a[t]}))&&a.every((function(t,n){return t===e.answer[n]}))?t.push(e._id):n.push(e._id),e})),function(e,t){B.apply(this,arguments)}(t,n)},handleFormChange:function(e){var t=c.questions.every((function(e){for(var t=document.getElementsByName(e._id),n=!1,a=0;a<t.length;a++)if(t[a].checked){n=!0;break}return n}));S(t)},saveExamResultsLoading:_}));return r.a.createElement("div",{className:"TakeExam"},P)}))),rn=(n(164),function(e){function t(){return Object(Ge.a)(this,t),Object(Xe.a)(this,Object(He.a)(t).apply(this,arguments))}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"componentDidMount",value:function(){this.props.loginExistingUser()}},{key:"render",value:function(){var e=r.a.createElement(Ke.d,null,r.a.createElement(Ke.b,{path:"/auth",component:ct}),r.a.createElement(Ke.b,{path:"/login",component:dt}),r.a.createElement(Ke.b,{path:"/create-exam",component:Ft}),r.a.createElement(Ke.b,{path:"/take-exam/:examId",component:an}),r.a.createElement(Ke.a,{from:"*",to:"/create-exam"}));return this.props.isUserLoggedIn&&(e=r.a.createElement(Ke.d,null,r.a.createElement(Ke.a,{from:"/login",to:"create-exam"}),r.a.createElement(Ke.a,{from:"/auth",to:"create-exam"}),r.a.createElement(Ke.b,{path:"/exams",component:$t}),r.a.createElement(Ke.b,{path:"/create-exam",component:Ft}),r.a.createElement(Ke.b,{path:"/edit-exam",component:Wt}),r.a.createElement(Ke.b,{path:"/take-exam/:examId",component:an}),r.a.createElement(Ke.a,{from:"*",to:"/create-exam"}))),r.a.createElement("div",{className:"App"},"take-exam"!==this.props.location.pathname.split("/")[1]?r.a.createElement(st,null):"",e)}}]),t}(r.a.Component));var sn=Object(Ke.g)(Object(u.b)((function(e){return{isUserLoggedIn:e.auth.isUserLoggedIn}}),(function(e){return{loginExistingUser:function(){return e({type:m})}}}))(rn)),on=(n(165),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d),un=Object(c.c)({auth:A,exam:me}),cn=Object(l.a)(),ln=Object(c.e)(un,on(Object(c.a)(cn)));cn.run(Re),cn.run(We);var dn=r.a.createElement(u.a,{store:ln},r.a.createElement(o.a,{basename:"/"},r.a.createElement(sn,null)));i.a.render(dn,document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.079d02a9.chunk.js.map